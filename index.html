<!DOCTYPE html>
<html lang="en">


<head>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular.js"></script>
  <script src="bootstrap/ui-bootstrap-0.11.0.js"> </script>
  <script src="bootstrap/ui-bootstrap-tpls-0.11.0.js"> </script>
  <script src="keystone.js"></script>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="bootstrap/bootstrap.min.css">

  <!-- Optional theme -->
  <link rel="stylesheet" href="bootstrap/bootstrap-theme.min.css">


</head>

<a href="trust.html">Trusts</a>

<body ng-app="angular_keystone">


  <div ng-controller="TokenController" >
    <dl >
      <dt>Online (uncheck to work with static data)</dt>
      <dd>
        <input type="checkbox" ng-model="online" value="true"></input>
      </dd>
      <dt>Authentication method</dt>
      <dd>
        <input type="radio" ng-model="auth_method" value="kerberos">kerberos</input>
        <input type="radio" ng-model="auth_method" value="password">password</input>
        <input type="radio" ng-model="auth_method" value="token">token</input>
      </dd>
      <dt>User Domain Name</dt>
      <dd>
        <input type="text" ng-model="user_domain_name"></input>
      </dd>
      <dt>Username</dt>
      <dd>
        <input type="text" ng-model="user_name"></input>
      </dd>
      <dt>Password</dt>
      <dd>
        <input type="password" ng-model="password"></input>
      </dd>
      <dt></dt>
      <dd>
        <button ng-click="get_token(item, $event)">Get Token</button>
        <button ng-click="clear_token(item, $event)">Clear Token</button>
        <button ng-click="list_projects(item, $event)">List Projects</button>
        <button ng-click="create_self_trust(item, $event)">Create Trust for Token</button>
        <button ng-click="list_trusts(item, $event)">List Trusts</button>

       </dd>
      <dt>Projects</dt>
      <dd>
        <select
           ng-model="project"
           ng-options="project.name for project in projects"]></select>
      </dd>
      <dt>Trusts</dt>
      <dd>
        <select
           ng-model="trust"
           ng-options="trust.id for trust in trusts"]></select>
      </dd>

    </dl>
    <br/>



    </dl>
    <br/>

    <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert>

    <h2>Token Data</h2>
    <dl>
      <dt>User Domain</dt>
      <dd>{{user.domain.name}}</dd>

      <dt>User Name</dt>
      <dd>{{user.name}}</dd>
      <dt>User ID</dt>
      <dd>{{user.id}}</dd>
      <dt>Project</dt>
      <dd>{{token.project.name}}</dd>
      <dt>Roles</dt>
      <dd>{{token.roles}}</dd>
      <dt>Trust Data</dt>
      <dd>{{token_trust}}</dd>

    </dl>
    <h2>Trusts List</h2>
    <span>{{trusts}}</span>
  </div>
</body>

</html>
